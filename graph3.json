{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "Nuclear Production, 3 days overview",
  "width":800,
  "height":400,
  "data": {"url": "production72.json"},
  "transform": [
    {"calculate": "now()-datum.ts", "as": "offset"},
    {"filter":"datum.offset < 262799000"}
  ],
  "mark": {
    "type": "line",
    "point": true,
    "size":3
  },
  "encoding": {
    "x": {"field": "ts", "type": "temporal", "timeUnit": "monthdatehoursminutes", "axis": {"grid": true, "title":"Time"}},
    "y": {"field": "mw", "type": "quantitative", "scale":{"domain":[0,1500]}, "axis": {"grid": true, "title":"Power, MW"}},
    "color": {"field": "u", "type": "nominal", "title":"Unit", "scale": {"domain": ["F1", "F2", "F3", "O3", "R3", "R4"],"range": ["#d95f02", "#e6ab02", "#a6761d", "#66a61e", "#7570b3", "#393b79"]}},
    "tooltip": [
      {"field": "u", "type": "nominal", "title": "Unit"},
      {"field": "mw", "type": "quantitative", "title": "Power, MW"},
      {"field": "ts", "type": "temporal", "title": "Date", "timeUnit":"monthdatehoursminutesseconds"}
    ]
  }
}
